{% extends "satsound/base.html" %}
{% load staticfiles %}
{% block extra_head %}
<link href="//cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="//cdn.datatables.net/responsive/2.1.1/css/responsive.dataTables.min.css" rel="stylesheet">
<link href="{% static 'satsound/css/bootstrap3_player.css' %}" rel="stylesheet">
<style>
  input, select, textarea {
    width: auto;
  }



</style>
{% endblock %}
{% block head_title %}Sonic Planetarium Audio Management{% endblock %}
{% block content %}
<h1>My Audio</h1>
{% if user_audio %}
<table id="userAudio" class="nowrap hover">
  <thead>
  <td>Satellite</td>
  <td>Audio</td>
  <td>Attribution</td>
  <td>Type</td>
  <td>Created</td>
  <td>Delete</td>
  </thead>
  {% for audio in user_audio %}
  <tr>
    <td>{{ audio.satellite_id }}</td>
    <td>
      <audio controls>
        <source src="{{ audio.audio.url }}"/>
        <a href="{{ audio.audio.url }}">{{ audio.audio }}</a>
        An html5-capable browser is required to play this audio.
      </audio>
    </td>
    <td>{{ audio.attribution }}</td>
    <td>{{ audio.get_type_display }}</td>
    <td>{{ audio.created }}</td>
    <td class="btn-table">
      <p data-placement="top" data-toggle="tooltip" title="Delete">
        <button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete">
          <span class="glyphicon glyphicon-trash"></span>
        </button>
      </p>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
No audio yet. Upload audio for <a href="{% url 'satellite' 25544 %}">a satellite</a> to see it appear in this list.
{% endif %}
{% endblock %}
{% block extra_script %}
<script type="text/javascript" src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="//cdn.datatables.net/responsive/2.1.1/js/dataTables.responsive.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('#userAudio').DataTable({
    responsive: true,
    "columnDefs": [
      {"orderable": false, "targets": [1,5]},
      {}
    ]
  });
});



</script>
<script src="{% static 'satsound/js/bootstrap3_player.js' %}"></script>
{% endblock %}
